<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{layout/common-layout :: commonLayout(~{this::head},~{this::main} )}">
<head>
<link rel="stylesheet" href="/css/signup.css">
<script src="/js/department.js"></script>
<link rel="stylesheet" href="/css/department/side.css" />
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
//주소
window.onload = function(){
    document.getElementById("adress").addEventListener("click", function(){ //주소입력칸을 클릭하면
        //카카오 지도 발생
        new daum.Postcode({
            oncomplete: function(data) { //선택시 입력값 세팅
                document.getElementById("adress").value = data.address; // 주소 넣기
                document.querySelector("input[name=address_detail]").focus(); //상세입력 포커싱
            }
        }).open();
    });
}
</script>
<script th:inline="javascript">
    function toggleDivVisibility() {
        var selectedDept = document.getElementById('dept').value;
        alert(selectedDept);
        var rankDiv = document.getElementsByClassName('rankDiv');
        
        if (selectedDept === '가맹점') {
            rankDiv.style.display = 'none';
        } else {
            rankDiv.style.display = 'block';
        }
    }
</script>
</head>
<body>
	<main class="warp-main">
		<div th:replace="~{department/side :: side}"></div>
		<div class="main">
			<form action="/members" method="post">
				<div class="join_area">
					<h1 class="join_tilte">사원등록</h1>
					<div class="add_img flex center">
								<label class="btn-file">
									<input type="file" accept="image/*" onchange="changedImg(this)">
									<img src="/img/plus-icon.png">
								</label>
							</div>
					<div>
						<label for="id">아이디</label> <input type="text" id="id"
							name="id" placeholder="예) bullti">
					</div>
					<div>
						<label for="pass">비밀번호</label> <input type="password" id="pass"
							placeholder="최초 비밀번호는 아이디랑 같습니다." required readonly="readonly">
					</div>
					<div>
						<label for="name">이름</label> <input type="text" id="name"
							name="name" placeholder="예) 김대리" required>
					</div>
					<div>
						<label for="tel">전화번호</label> <input type="tel" id="tel"
							name="tel" pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}" placeholder="010-1234-5678" required>
					</div>
					<div>
						<label for="tel">주소</label> <input type="tel" id="adress"
							name="street" placeholder="기본주소" required>
							<input type="text" placeholder="상세주소" name="detail">
					</div>
					<div>
						<label for="birth_date">생년월일</label> <input type="date" id="birth_Date"
							name="birthDate" required>
					</div>
					<div>
						<label for="joinCompanyDate">입사일</label> <input type="date" id="joinCompanyDate"
							name="joinCompanyDate" required>
					</div>
					<div>
						<label for="joinCompanyDate">입사일</label> <input type="date" id="joinCompanyDate"
							name="joinCompanyDate" required>
					</div>
					<div>
						<label for="dept">부서</label>
							<select id="dept"
							name="deptId" required>
								<option th:each="dept: ${deptList}" th:value="${dept.deptId}">[[${dept.deptName}]]</option>
								<option>
								가맹점			
								</option>
							</select>
					</div>
					<div class="rank">
						<label for="rank">직급</label>
							<select id="rank"
							name="rank" required>
								<option>
								사원
								</option>
								<option>
								대리
								</option>
								<option>
								과장
								</option>
								<option>
								부장
								</option>
							</select>
					</div>
					<div class="button_area">
						<button class="join_button">
							<span>등록하기</span>
						</button>
					</div>
				</div>
			</form>
		</div>
	</main>
</body>
</html>