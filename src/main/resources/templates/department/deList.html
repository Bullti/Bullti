<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{layout/common-layout :: commonLayout(~{this::head},~{this::main} )}">

<head>
	<title>Insert title here</title>
	<script src="/js/department.js"></script>
	<script src="/js/DeList.js"></script>
	<link rel="stylesheet" href="/css/department/side.css" />
	<link rel="stylesheet" href="/css/department/DeList.css" />
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	 
    <script type="text/javascript" th:inline="javascript">
    google.charts.load('current', { packages: ["orgchart"] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
		var orgChartData = /*[[${orgChartData}]]*/null;
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Name');
        data.addColumn('string', 'Manager');

        for (var i = 0; i < orgChartData.length; i++) {
            data.addRow([
                { 'v': orgChartData[i].name, 'f': '<div style="font-size: 16px; font-weight: bold;">' + orgChartData[i].name + '</div>' },
                orgChartData[i].manager,
            ]);
        }

        var options = {
            'allowHtml': true,
            'nodeClass': 'custom-node-class'
        };

        var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
	</script>
 
	
	
</head>

<body>
	<main class="warp-main">
		<div th:replace="~{department/side :: side}"></div>
		<div class="main-area">
			<div id="chart_div" th:attr="data-org-chart=${orgChartData}"></div>
		</div>
	</main>
	
		
</body>

</html>